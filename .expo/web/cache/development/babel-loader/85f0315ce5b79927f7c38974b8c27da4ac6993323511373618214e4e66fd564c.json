{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nvar BASE_URL = 'https://s5-4242.nuage-peda.fr/gsbvttMobile/API';\nvar formatTime = function formatTime(time) {\n  if (time.split(':').length === 3) return time;\n  return time + ':00';\n};\nvar formatTimeForAPI = function formatTimeForAPI(time) {\n  return `2000-01-01 ${time}`;\n};\nvar formatDateTime = function formatDateTime(date, time) {\n  return `${date} ${time}`;\n};\nvar formatTimeValue = function formatTimeValue(minutes) {\n  var hours = Math.floor(minutes / 60);\n  var mins = minutes % 60;\n  return `${String(hours).padStart(2, '0')}:${String(mins).padStart(2, '0')}:00`;\n};\nexport var login = function () {\n  var _ref = _asyncToGenerator(function* (email, password) {\n    try {\n      var response = yield fetch(`${BASE_URL}/ApiAuth.php`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          email: email,\n          password: password\n        })\n      });\n      var data = yield response.json();\n      if (!response.ok) {\n        throw new Error(data.message || 'Erreur de connexion');\n      }\n      return data;\n    } catch (error) {\n      console.error('Login error:', error);\n      throw error;\n    }\n  });\n  return function login(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\nexport var verifyToken = function () {\n  var _ref2 = _asyncToGenerator(function* (token) {\n    try {\n      var response = yield fetch(`${BASE_URL}/ApiAuth.php?verify=1`, {\n        method: 'GET',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        }\n      });\n      var data = yield response.json();\n      return data.valid === true;\n    } catch (error) {\n      console.error('Erreur vérification token:', error);\n      return false;\n    }\n  });\n  return function verifyToken(_x3) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nexport var getUserData = function () {\n  var _ref3 = _asyncToGenerator(function* (token) {\n    try {\n      var response = yield fetch(`${BASE_URL}/ApiAuth.php?user=1`, {\n        method: 'GET',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        }\n      });\n      var data = yield response.json();\n      if (!response.ok) {\n        throw new Error(data.message || 'Erreur de récupération des données utilisateur');\n      }\n      return data.user;\n    } catch (error) {\n      console.error('Erreur récupération données utilisateur:', error);\n      throw error;\n    }\n  });\n  return function getUserData(_x4) {\n    return _ref3.apply(this, arguments);\n  };\n}();\nvar fetchWithAuth = function () {\n  var _ref4 = _asyncToGenerator(function* (endpoint) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    try {\n      var token = yield AsyncStorage.getItem('userToken');\n      if (!token) {\n        throw new Error('Token non trouvé');\n      }\n      var response = yield fetch(`${BASE_URL}${endpoint}`, _objectSpread(_objectSpread({}, options), {}, {\n        headers: _objectSpread(_objectSpread({}, options.headers), {}, {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        })\n      }));\n      var data = yield response.json();\n      if (!response.ok) {\n        throw new Error(data.message || 'Erreur API');\n      }\n      return data;\n    } catch (error) {\n      console.error('API error:', error);\n      throw error;\n    }\n  });\n  return function fetchWithAuth(_x5) {\n    return _ref4.apply(this, arguments);\n  };\n}();\nexport var fetchVisites = function () {\n  var _ref5 = _asyncToGenerator(function* () {\n    return fetchWithAuth('/ApiVisite.php');\n  });\n  return function fetchVisites() {\n    return _ref5.apply(this, arguments);\n  };\n}();\nvar calculateTimes = function calculateTimes(arrivee, debut, depart) {\n  try {\n    var _arrivee$split$map = arrivee.split(':').map(Number),\n      _arrivee$split$map2 = _slicedToArray(_arrivee$split$map, 2),\n      hA = _arrivee$split$map2[0],\n      mA = _arrivee$split$map2[1];\n    var _debut$split$map = debut.split(':').map(Number),\n      _debut$split$map2 = _slicedToArray(_debut$split$map, 2),\n      hD = _debut$split$map2[0],\n      mD = _debut$split$map2[1];\n    var _depart$split$map = depart.split(':').map(Number),\n      _depart$split$map2 = _slicedToArray(_depart$split$map, 2),\n      hF = _depart$split$map2[0],\n      mF = _depart$split$map2[1];\n    var tempsAttente = hD * 60 + mD - (hA * 60 + mA);\n    var tempsVisite = hF * 60 + mF - (hA * 60 + mA);\n    return {\n      temps_attente: Math.max(0, tempsAttente),\n      temps_visite: Math.max(0, tempsVisite)\n    };\n  } catch (error) {\n    console.error('Erreur calcul temps:', error);\n    return {\n      temps_attente: 0,\n      temps_visite: 0\n    };\n  }\n};\nexport var createVisite = function () {\n  var _ref6 = _asyncToGenerator(function* (visiteData) {\n    try {\n      var dateTime_arrivee = formatDateTime(visiteData.date_visite, visiteData.heure_arrivee);\n      var dateTime_debut = formatDateTime(visiteData.date_visite, visiteData.heure_debut_entretien);\n      var dateTime_depart = formatDateTime(visiteData.date_visite, visiteData.heure_depart);\n      var _visiteData$heure_arr = visiteData.heure_arrivee.split(':').map(Number),\n        _visiteData$heure_arr2 = _slicedToArray(_visiteData$heure_arr, 2),\n        hA = _visiteData$heure_arr2[0],\n        mA = _visiteData$heure_arr2[1];\n      var _visiteData$heure_deb = visiteData.heure_debut_entretien.split(':').map(Number),\n        _visiteData$heure_deb2 = _slicedToArray(_visiteData$heure_deb, 2),\n        hD = _visiteData$heure_deb2[0],\n        mD = _visiteData$heure_deb2[1];\n      var _visiteData$heure_dep = visiteData.heure_depart.split(':').map(Number),\n        _visiteData$heure_dep2 = _slicedToArray(_visiteData$heure_dep, 2),\n        hF = _visiteData$heure_dep2[0],\n        mF = _visiteData$heure_dep2[1];\n      var tempsAttenteMinutes = hD * 60 + mD - (hA * 60 + mA);\n      var tempsVisiteMinutes = hF * 60 + mF - (hA * 60 + mA);\n      var formattedData = {\n        id_visiteur: Number(visiteData.id_visiteur),\n        id_medecin: Number(visiteData.id_medecin),\n        date_visite: visiteData.date_visite,\n        heure_arrivee: dateTime_arrivee,\n        heure_debut_entretien: dateTime_debut,\n        heure_depart: dateTime_depart,\n        temps_attente: formatTimeValue(tempsAttenteMinutes),\n        temps_visite: formatTimeValue(tempsVisiteMinutes),\n        rendez_vous: Number(visiteData.rendez_vous)\n      };\n      console.log('Données formatées pour MySQL:', formattedData);\n      return fetchWithAuth('/ApiVisite.php', {\n        method: 'POST',\n        body: JSON.stringify(formattedData)\n      });\n    } catch (error) {\n      console.error('Erreur création visite:', error);\n      throw error;\n    }\n  });\n  return function createVisite(_x6) {\n    return _ref6.apply(this, arguments);\n  };\n}();\nexport var fetchCabinets = function () {\n  var _ref7 = _asyncToGenerator(function* (latitude, longitude) {\n    var params = latitude && longitude ? `?latitude=${latitude}&longitude=${longitude}` : '';\n    return fetchWithAuth(`/ApiCabinet.php${params}`);\n  });\n  return function fetchCabinets(_x7, _x8) {\n    return _ref7.apply(this, arguments);\n  };\n}();\nexport var fetchMedecins = function () {\n  var _ref8 = _asyncToGenerator(function* () {\n    return fetchWithAuth('/ApiMedecin.php');\n  });\n  return function fetchMedecins() {\n    return _ref8.apply(this, arguments);\n  };\n}();\nexport var getVisite = function () {\n  var _ref9 = _asyncToGenerator(function* (id) {\n    return fetchWithAuth(`/ApiVisite.php?id=${id}`);\n  });\n  return function getVisite(_x9) {\n    return _ref9.apply(this, arguments);\n  };\n}();\nexport var updateVisite = function () {\n  var _ref10 = _asyncToGenerator(function* (visiteData) {\n    return fetchWithAuth('/ApiVisite.php', {\n      method: 'PUT',\n      body: JSON.stringify(visiteData)\n    });\n  });\n  return function updateVisite(_x10) {\n    return _ref10.apply(this, arguments);\n  };\n}();\nexport var deleteVisite = function () {\n  var _ref11 = _asyncToGenerator(function* (id) {\n    return fetchWithAuth(`/ApiVisite.php`, {\n      method: 'DELETE',\n      body: JSON.stringify({\n        id_visite: id\n      })\n    });\n  });\n  return function deleteVisite(_x11) {\n    return _ref11.apply(this, arguments);\n  };\n}();","map":{"version":3,"names":["AsyncStorage","BASE_URL","formatTime","time","split","length","formatTimeForAPI","formatDateTime","date","formatTimeValue","minutes","hours","Math","floor","mins","String","padStart","login","_ref","_asyncToGenerator","email","password","response","fetch","method","headers","body","JSON","stringify","data","json","ok","Error","message","error","console","_x","_x2","apply","arguments","verifyToken","_ref2","token","valid","_x3","getUserData","_ref3","user","_x4","fetchWithAuth","_ref4","endpoint","options","undefined","getItem","_objectSpread","_x5","fetchVisites","_ref5","calculateTimes","arrivee","debut","depart","_arrivee$split$map","map","Number","_arrivee$split$map2","_slicedToArray","hA","mA","_debut$split$map","_debut$split$map2","hD","mD","_depart$split$map","_depart$split$map2","hF","mF","tempsAttente","tempsVisite","temps_attente","max","temps_visite","createVisite","_ref6","visiteData","dateTime_arrivee","date_visite","heure_arrivee","dateTime_debut","heure_debut_entretien","dateTime_depart","heure_depart","_visiteData$heure_arr","_visiteData$heure_arr2","_visiteData$heure_deb","_visiteData$heure_deb2","_visiteData$heure_dep","_visiteData$heure_dep2","tempsAttenteMinutes","tempsVisiteMinutes","formattedData","id_visiteur","id_medecin","rendez_vous","log","_x6","fetchCabinets","_ref7","latitude","longitude","params","_x7","_x8","fetchMedecins","_ref8","getVisite","_ref9","id","_x9","updateVisite","_ref10","_x10","deleteVisite","_ref11","id_visite","_x11"],"sources":["D:/BTS/AP/GSBVTTMobile/src/services/api.ts"],"sourcesContent":["import AsyncStorage from '@react-native-async-storage/async-storage';\r\n\r\nconst BASE_URL = 'https://s5-4242.nuage-peda.fr/gsbvttMobile/API';\r\n\r\ninterface LoginResponse {\r\n  status: string;\r\n  message: string;\r\n  user: {\r\n    id: number;\r\n    nom: string;\r\n    prenom: string;\r\n    email: string;\r\n  };\r\n  token: string;\r\n}\r\n\r\ninterface ApiError {\r\n  error: string;\r\n  message?: string;\r\n}\r\n\r\n// Ajout des interfaces pour les visites\r\ninterface VisiteDetails {\r\n  id_visite: number;\r\n  date_visite: string;\r\n  heure_arrivee: string;\r\n  heure_debut_entretien: string;\r\n  heure_depart: string;\r\n  rendez_vous: boolean;\r\n  id_medecin: number;\r\n  id_visiteur: number;\r\n}\r\n\r\ninterface CreateVisiteData {\r\n  id_visiteur: number;\r\n  id_medecin: number;\r\n  date_visite: string;\r\n  heure_arrivee: string;\r\n  heure_debut_entretien: string;\r\n  heure_depart: string;\r\n  rendez_vous: boolean;\r\n  temps_attente?: number;\r\n  temps_visite?: number;\r\n}\r\n\r\nconst formatTime = (time: string): string => {\r\n  // Si l'heure contient déjà les secondes, on la renvoie telle quelle\r\n  if (time.split(':').length === 3) return time;\r\n  // Sinon on ajoute les secondes\r\n  return time + ':00';\r\n};\r\n\r\nconst formatTimeForAPI = (time: string) => {\r\n  // Convertir le format HH:mm:ss en format datetime MySQL\r\n  return `2000-01-01 ${time}`;\r\n};\r\n\r\nconst formatDateTime = (date: string, time: string): string => {\r\n  // Combine la date et l'heure au format MySQL datetime\r\n  // exemple: 2024-03-15 10:30:00\r\n  return `${date} ${time}`;\r\n};\r\n\r\nconst formatTimeValue = (minutes: number): string => {\r\n  // Convertit les minutes en format time MySQL\r\n  // exemple: 00:30:00\r\n  const hours = Math.floor(minutes / 60);\r\n  const mins = minutes % 60;\r\n  return `${String(hours).padStart(2, '0')}:${String(mins).padStart(2, '0')}:00`;\r\n};\r\n\r\nexport const login = async (email: string, password: string): Promise<LoginResponse> => {\r\n  try {\r\n    const response = await fetch(`${BASE_URL}/ApiAuth.php`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({ email, password }),\r\n    });\r\n\r\n    const data = await response.json();\r\n    \r\n    if (!response.ok) {\r\n      throw new Error(data.message || 'Erreur de connexion');\r\n    }\r\n\r\n    return data;\r\n  } catch (error) {\r\n    console.error('Login error:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// Fonction pour vérifier si le token est valide\r\nexport const verifyToken = async (token: string): Promise<boolean> => {\r\n  try {\r\n    const response = await fetch(`${BASE_URL}/ApiAuth.php?verify=1`, {\r\n      method: 'GET',\r\n      headers: {\r\n        'Authorization': `Bearer ${token}`,\r\n        'Content-Type': 'application/json',\r\n      },\r\n    });\r\n    \r\n    const data = await response.json();\r\n    return data.valid === true;\r\n  } catch (error) {\r\n    console.error('Erreur vérification token:', error);\r\n    return false;\r\n  }\r\n};\r\n\r\n// Fonction pour récupérer les données utilisateur à partir du token\r\nexport const getUserData = async (token: string) => {\r\n  try {\r\n    const response = await fetch(`${BASE_URL}/ApiAuth.php?user=1`, {\r\n      method: 'GET',\r\n      headers: {\r\n        'Authorization': `Bearer ${token}`,\r\n        'Content-Type': 'application/json',\r\n      },\r\n    });\r\n    \r\n    const data = await response.json();\r\n    if (!response.ok) {\r\n      throw new Error(data.message || 'Erreur de récupération des données utilisateur');\r\n    }\r\n    \r\n    return data.user;\r\n  } catch (error) {\r\n    console.error('Erreur récupération données utilisateur:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst fetchWithAuth = async (endpoint: string, options: RequestInit = {}) => {\r\n  try {\r\n    const token = await AsyncStorage.getItem('userToken');\r\n    \r\n    if (!token) {\r\n      throw new Error('Token non trouvé');\r\n    }\r\n\r\n    const response = await fetch(`${BASE_URL}${endpoint}`, {\r\n      ...options,\r\n      headers: {\r\n        ...options.headers,\r\n        'Authorization': `Bearer ${token}`,\r\n        'Content-Type': 'application/json',\r\n      },\r\n    });\r\n\r\n    const data = await response.json();\r\n    \r\n    if (!response.ok) {\r\n      throw new Error(data.message || 'Erreur API');\r\n    }\r\n\r\n    return data;\r\n  } catch (error) {\r\n    console.error('API error:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const fetchVisites = async () => {\r\n  return fetchWithAuth('/ApiVisite.php');\r\n};\r\n\r\nconst calculateTimes = (arrivee: string, debut: string, depart: string) => {\r\n  try {\r\n    const [hA, mA] = arrivee.split(':').map(Number);\r\n    const [hD, mD] = debut.split(':').map(Number);\r\n    const [hF, mF] = depart.split(':').map(Number);\r\n\r\n    const tempsAttente = (hD * 60 + mD) - (hA * 60 + mA);\r\n    const tempsVisite = (hF * 60 + mF) - (hA * 60 + mA);\r\n\r\n    return {\r\n      temps_attente: Math.max(0, tempsAttente),\r\n      temps_visite: Math.max(0, tempsVisite)\r\n    };\r\n  } catch (error) {\r\n    console.error('Erreur calcul temps:', error);\r\n    return { temps_attente: 0, temps_visite: 0 };\r\n  }\r\n};\r\n\r\nexport const createVisite = async (visiteData: CreateVisiteData) => {\r\n  try {\r\n    // Formatage des datetime\r\n    const dateTime_arrivee = formatDateTime(visiteData.date_visite, visiteData.heure_arrivee);\r\n    const dateTime_debut = formatDateTime(visiteData.date_visite, visiteData.heure_debut_entretien);\r\n    const dateTime_depart = formatDateTime(visiteData.date_visite, visiteData.heure_depart);\r\n\r\n    // Calcul des temps d'attente et de visite en minutes\r\n    const [hA, mA] = visiteData.heure_arrivee.split(':').map(Number);\r\n    const [hD, mD] = visiteData.heure_debut_entretien.split(':').map(Number);\r\n    const [hF, mF] = visiteData.heure_depart.split(':').map(Number);\r\n\r\n    const tempsAttenteMinutes = (hD * 60 + mD) - (hA * 60 + mA);\r\n    const tempsVisiteMinutes = (hF * 60 + mF) - (hA * 60 + mA);\r\n\r\n    const formattedData = {\r\n      id_visiteur: Number(visiteData.id_visiteur),\r\n      id_medecin: Number(visiteData.id_medecin),\r\n      date_visite: visiteData.date_visite,\r\n      heure_arrivee: dateTime_arrivee,\r\n      heure_debut_entretien: dateTime_debut,\r\n      heure_depart: dateTime_depart,\r\n      temps_attente: formatTimeValue(tempsAttenteMinutes),\r\n      temps_visite: formatTimeValue(tempsVisiteMinutes),\r\n      rendez_vous: Number(visiteData.rendez_vous) // Convertir boolean en 0/1\r\n    };\r\n\r\n    console.log('Données formatées pour MySQL:', formattedData);\r\n\r\n    return fetchWithAuth('/ApiVisite.php', {\r\n      method: 'POST',\r\n      body: JSON.stringify(formattedData),\r\n    });\r\n  } catch (error) {\r\n    console.error('Erreur création visite:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const fetchCabinets = async (latitude?: number, longitude?: number) => {\r\n  const params = latitude && longitude ? `?latitude=${latitude}&longitude=${longitude}` : '';\r\n  return fetchWithAuth(`/ApiCabinet.php${params}`);\r\n};\r\n\r\nexport const fetchMedecins = async () => {\r\n  return fetchWithAuth('/ApiMedecin.php');\r\n};\r\n\r\nexport const getVisite = async (id: number): Promise<VisiteDetails> => {\r\n  return fetchWithAuth(`/ApiVisite.php?id=${id}`);\r\n};\r\n\r\nexport const updateVisite = async (visiteData: VisiteDetails) => {\r\n  return fetchWithAuth('/ApiVisite.php', {\r\n    method: 'PUT',\r\n    body: JSON.stringify(visiteData)\r\n  });\r\n};\r\n\r\nexport const deleteVisite = async (id: number) => {\r\n  return fetchWithAuth(`/ApiVisite.php`, {\r\n    method: 'DELETE',\r\n    body: JSON.stringify({ id_visite: id }),\r\n  });\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}