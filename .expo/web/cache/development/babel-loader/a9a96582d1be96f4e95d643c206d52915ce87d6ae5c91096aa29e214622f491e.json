{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"D:\\\\BTS\\\\AP\\\\GSBVTTMobile\\\\src\\\\screens\\\\visits\\\\VisitDetailScreen.tsx\",\n  _this = this;\nimport React, { useState, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport { getVisite } from '../../services/api';\nimport { useRoute } from '@react-navigation/native';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar VisitDetailScreen = function VisitDetailScreen() {\n  var route = useRoute();\n  var visitId = route.params.visitId;\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    visite = _useState2[0],\n    setVisite = _useState2[1];\n  var _useState3 = useState(true),\n    _useState4 = _slicedToArray(_useState3, 2),\n    loading = _useState4[0],\n    setLoading = _useState4[1];\n  var _useState5 = useState(null),\n    _useState6 = _slicedToArray(_useState5, 2),\n    error = _useState6[0],\n    setError = _useState6[1];\n  var loadVisite = function () {\n    var _ref = _asyncToGenerator(function* () {\n      try {\n        setLoading(true);\n        setError(null);\n        console.log(\"Chargement de la visite ID:\", visitId);\n        var response = yield getVisite(visitId);\n        console.log(\"Données brutes reçues:\", JSON.stringify(response, null, 2));\n        var data = Array.isArray(response) ? response[0] : response;\n        if (data) {\n          setVisite(data);\n          console.log(\"Données formatées:\", data);\n        } else {\n          setError(\"Aucune donnée reçue\");\n        }\n      } catch (error) {\n        console.error(\"Erreur de chargement:\", error);\n        setError(`Impossible de charger la visite: ${error.message}`);\n      } finally {\n        setLoading(false);\n      }\n    });\n    return function loadVisite() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  useEffect(function () {\n    loadVisite();\n  }, [visitId]);\n  if (loading) {\n    return _jsxDEV(View, {\n      style: styles.loadingContainer,\n      children: _jsxDEV(ActivityIndicator, {\n        size: \"large\",\n        color: \"#0000ff\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, _this);\n  }\n  if (error) {\n    return _jsxDEV(View, {\n      style: styles.loadingContainer,\n      children: _jsxDEV(Text, {\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, _this);\n  }\n  return _jsxDEV(ScrollView, {\n    style: styles.container,\n    children: [_jsxDEV(Text, {\n      style: styles.title,\n      children: [visite == null ? void 0 : visite.nom_medecin, \" \", visite == null ? void 0 : visite.prenom_medecin]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, _this), _jsxDEV(Text, {\n      style: styles.description,\n      children: [\"Date de visite: \", visite == null ? void 0 : visite.date_visite]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, _this), _jsxDEV(Text, {\n      style: styles.description,\n      children: [\"Heure d'arriv\\xE9e: \", visite == null ? void 0 : visite.heure_arrivee]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, _this), _jsxDEV(Text, {\n      style: styles.description,\n      children: [\"Heure de d\\xE9but d'entretien: \", visite == null ? void 0 : visite.heure_debut_entretien]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, _this), _jsxDEV(Text, {\n      style: styles.description,\n      children: [\"Heure de d\\xE9part: \", visite == null ? void 0 : visite.heure_depart]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, _this), _jsxDEV(Text, {\n      style: styles.description,\n      children: [\"Temps d'attente: \", visite == null ? void 0 : visite.temps_attente]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, _this), _jsxDEV(Text, {\n      style: styles.description,\n      children: [\"Temps de visite: \", visite == null ? void 0 : visite.temps_visite]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 84,\n    columnNumber: 5\n  }, _this);\n};\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    padding: 16,\n    backgroundColor: '#fff'\n  },\n  loadingContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  title: {\n    fontSize: 24,\n    fontWeight: 'bold'\n  },\n  description: {\n    fontSize: 16,\n    marginTop: 8\n  }\n});\nexport default VisitDetailScreen;","map":{"version":3,"names":["React","useState","useEffect","View","StyleSheet","ScrollView","Text","ActivityIndicator","getVisite","useRoute","jsxDEV","_jsxDEV","VisitDetailScreen","route","visitId","params","_useState","_useState2","_slicedToArray","visite","setVisite","_useState3","_useState4","loading","setLoading","_useState5","_useState6","error","setError","loadVisite","_ref","_asyncToGenerator","console","log","response","JSON","stringify","data","Array","isArray","message","apply","arguments","style","styles","loadingContainer","children","size","color","fileName","_jsxFileName","lineNumber","columnNumber","_this","container","title","nom_medecin","prenom_medecin","description","date_visite","heure_arrivee","heure_debut_entretien","heure_depart","temps_attente","temps_visite","create","flex","padding","backgroundColor","justifyContent","alignItems","fontSize","fontWeight","marginTop"],"sources":["D:/BTS/AP/GSBVTTMobile/src/screens/visits/VisitDetailScreen.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { \n  View, \n  StyleSheet, \n  Alert,\n  ScrollView,\n  Text,\n  ActivityIndicator\n} from 'react-native';\nimport { getVisite } from '../../services/api';\nimport { RouteProp, useRoute } from '@react-navigation/native';\n\ninterface VisiteDetails {\n  id_visite: number;\n  date_visite: string;\n  heure_arrivee: string;\n  heure_debut_entretien: string;\n  heure_depart: string;\n  rendez_vous: boolean;\n  id_medecin: number;\n  id_visiteur: number;\n  nom_medecin?: string;\n  prenom_medecin?: string;\n  temps_attente?: string;\n  temps_visite?: string;\n}\n\ntype VisitDetailScreenRouteProp = RouteProp<{ params: { visitId: string } }, 'params'>;\n\nconst VisitDetailScreen: React.FC = () => {\n  const route = useRoute<VisitDetailScreenRouteProp>();\n  const { visitId } = route.params;\n  const [visite, setVisite] = useState<VisiteDetails | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  const loadVisite = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      console.log(\"Chargement de la visite ID:\", visitId);\n      \n      const response = await getVisite(visitId);\n      console.log(\"Données brutes reçues:\", JSON.stringify(response, null, 2));\n      \n      // Prendre le premier élément si c'est un tableau\n      const data = Array.isArray(response) ? response[0] : response;\n      \n      if (data) {\n        setVisite(data);\n        console.log(\"Données formatées:\", data);\n      } else {\n        setError(\"Aucune donnée reçue\");\n      }\n    } catch (error) {\n      console.error(\"Erreur de chargement:\", error);\n      setError(`Impossible de charger la visite: ${error.message}`);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    loadVisite();\n  }, [visitId]);\n\n  if (loading) {\n    return (\n      <View style={styles.loadingContainer}>\n        <ActivityIndicator size=\"large\" color=\"#0000ff\" />\n      </View>\n    );\n  }\n\n  if (error) {\n    return (\n      <View style={styles.loadingContainer}>\n        <Text>{error}</Text>\n      </View>\n    );\n  }\n\n  return (\n    <ScrollView style={styles.container}>\n      <Text style={styles.title}>{visite?.nom_medecin} {visite?.prenom_medecin}</Text>\n      <Text style={styles.description}>Date de visite: {visite?.date_visite}</Text>\n      <Text style={styles.description}>Heure d'arrivée: {visite?.heure_arrivee}</Text>\n      <Text style={styles.description}>Heure de début d'entretien: {visite?.heure_debut_entretien}</Text>\n      <Text style={styles.description}>Heure de départ: {visite?.heure_depart}</Text>\n      <Text style={styles.description}>Temps d'attente: {visite?.temps_attente}</Text>\n      <Text style={styles.description}>Temps de visite: {visite?.temps_visite}</Text>\n      {/* Add more fields as necessary */}\n    </ScrollView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    padding: 16,\n    backgroundColor: '#fff',\n  },\n  loadingContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  title: {\n    fontSize: 24,\n    fontWeight: 'bold',\n  },\n  description: {\n    fontSize: 16,\n    marginTop: 8,\n  },\n});\n\nexport default VisitDetailScreen;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}