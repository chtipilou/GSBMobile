{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"D:\\\\BTS\\\\AP\\\\GSBVTTMobile\\\\src\\\\App.tsx\",\n  _this = this;\nimport React, { useEffect, useState } from 'react';\nimport { NavigationContainer } from '@react-navigation/native';\nimport { createStackNavigator } from '@react-navigation/stack';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport LoginScreen from './screens/auth/LoginScreen';\nimport HomeScreen from './screens/home/HomeScreen';\nimport VisitListScreen from './screens/visits/VisitListScreen';\nimport AddVisitScreen from './screens/visits/AddVisitScreen';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nvar Stack = createStackNavigator();\nvar App = function App() {\n  var _useState = useState(true),\n    _useState2 = _slicedToArray(_useState, 2),\n    isLoading = _useState2[0],\n    setIsLoading = _useState2[1];\n  var _useState3 = useState(null),\n    _useState4 = _slicedToArray(_useState3, 2),\n    userToken = _useState4[0],\n    setUserToken = _useState4[1];\n  useEffect(function () {\n    var checkToken = function () {\n      var _ref = _asyncToGenerator(function* () {\n        try {\n          var token = yield AsyncStorage.getItem('userToken');\n          setUserToken(token);\n        } catch (e) {\n          console.error(e);\n        } finally {\n          setIsLoading(false);\n        }\n      });\n      return function checkToken() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n    checkToken();\n  }, []);\n  if (isLoading) {\n    return null;\n  }\n  return _jsxDEV(NavigationContainer, {\n    children: _jsxDEV(Stack.Navigator, {\n      children: userToken == null ? _jsxDEV(Stack.Screen, {\n        name: \"Login\",\n        component: LoginScreen,\n        options: {\n          headerShown: false\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 11\n      }, _this) : _jsxDEV(_Fragment, {\n        children: [_jsxDEV(Stack.Screen, {\n          name: \"Home\",\n          component: HomeScreen,\n          options: {\n            title: 'GSB - Accueil'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 13\n        }, _this), _jsxDEV(Stack.Screen, {\n          name: \"VisitList\",\n          component: VisitListScreen,\n          options: {\n            title: 'Mes Visites'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 13\n        }, _this), _jsxDEV(Stack.Screen, {\n          name: \"AddVisit\",\n          component: AddVisitScreen,\n          options: {\n            title: 'Nouvelle Visite'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 13\n        }, _this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 5\n  }, _this);\n};\nexport default App;","map":{"version":3,"names":["React","useEffect","useState","NavigationContainer","createStackNavigator","AsyncStorage","LoginScreen","HomeScreen","VisitListScreen","AddVisitScreen","jsxDEV","_jsxDEV","Fragment","_Fragment","Stack","App","_useState","_useState2","_slicedToArray","isLoading","setIsLoading","_useState3","_useState4","userToken","setUserToken","checkToken","_ref","_asyncToGenerator","token","getItem","e","console","error","apply","arguments","children","Navigator","Screen","name","component","options","headerShown","fileName","_jsxFileName","lineNumber","columnNumber","_this","title"],"sources":["D:/BTS/AP/GSBVTTMobile/src/App.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { NavigationContainer } from '@react-navigation/native';\nimport { createStackNavigator } from '@react-navigation/stack';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport LoginScreen from './screens/auth/LoginScreen';\nimport HomeScreen from './screens/home/HomeScreen';\nimport VisitListScreen from './screens/visits/VisitListScreen';\nimport AddVisitScreen from './screens/visits/AddVisitScreen';\n\nconst Stack = createStackNavigator();\n\nconst App = () => {\n  const [isLoading, setIsLoading] = useState(true);\n  const [userToken, setUserToken] = useState(null);\n\n  useEffect(() => {\n    const checkToken = async () => {\n      try {\n        const token = await AsyncStorage.getItem('userToken');\n        setUserToken(token);\n      } catch (e) {\n        console.error(e);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    checkToken();\n  }, []);\n\n  if (isLoading) {\n    return null;\n  }\n\n  return (\n    <NavigationContainer>\n      <Stack.Navigator>\n        {userToken == null ? (\n          <Stack.Screen \n            name=\"Login\" \n            component={LoginScreen}\n            options={{ headerShown: false }}\n          />\n        ) : (\n          <>\n            <Stack.Screen \n              name=\"Home\" \n              component={HomeScreen}\n              options={{ title: 'GSB - Accueil' }}\n            />\n            <Stack.Screen \n              name=\"VisitList\" \n              component={VisitListScreen}\n              options={{ title: 'Mes Visites' }}\n            />\n            <Stack.Screen \n              name=\"AddVisit\" \n              component={AddVisitScreen}\n              options={{ title: 'Nouvelle Visite' }}\n            />\n          </>\n        )}\n      </Stack.Navigator>\n    </NavigationContainer>\n  );\n};\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}