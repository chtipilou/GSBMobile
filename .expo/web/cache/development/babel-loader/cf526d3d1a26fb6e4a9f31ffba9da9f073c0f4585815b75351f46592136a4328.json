{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"D:\\\\BTS\\\\AP\\\\GSBVTTMobile\\\\src\\\\App.tsx\",\n  _this = this;\nimport React, { useState, useEffect } from 'react';\nimport { NavigationContainer } from '@react-navigation/native';\nimport { createStackNavigator } from '@react-navigation/stack';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport LoginScreen from './screens/auth/LoginScreen';\nimport HomeScreen from './screens/home/HomeScreen';\nimport VisitListScreen from './screens/visits/VisitListScreen';\nimport AddVisitScreen from './screens/visits/AddVisitScreen';\nimport VisitDetailScreen from './screens/visits/VisitDetailScreen';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nvar Stack = createStackNavigator();\nvar DebugTokenInfo = function DebugTokenInfo() {\n  var _useState = useState('Chargement...'),\n    _useState2 = _slicedToArray(_useState, 2),\n    token = _useState2[0],\n    setToken = _useState2[1];\n  useEffect(function () {\n    AsyncStorage.getItem('userToken').then(function (value) {\n      setToken(value || 'Aucun token trouvé');\n    }).catch(function (error) {\n      setToken(`Erreur: ${error.message}`);\n    });\n  }, []);\n  return _jsxDEV(View, {\n    style: {\n      padding: 20,\n      backgroundColor: '#f0f0f0'\n    },\n    children: _jsxDEV(Text, {\n      children: [\"Token: \", token]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 5\n  }, _this);\n};\nvar App = function App() {\n  var _useState3 = useState(true),\n    _useState4 = _slicedToArray(_useState3, 2),\n    isLoading = _useState4[0],\n    setIsLoading = _useState4[1];\n  var _useState5 = useState(null),\n    _useState6 = _slicedToArray(_useState5, 2),\n    userToken = _useState6[0],\n    setUserToken = _useState6[1];\n  useEffect(function () {\n    var bootstrapAsync = function () {\n      var _ref = _asyncToGenerator(function* () {\n        try {\n          console.log(\"Vérification du token...\");\n          var token = yield AsyncStorage.getItem('userToken');\n          console.log(\"Token trouvé:\", token);\n          setUserToken(token);\n        } catch (e) {\n          console.log(\"Erreur lors de la récupération du token:\", e);\n        } finally {\n          setIsLoading(false);\n        }\n      });\n      return function bootstrapAsync() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n    bootstrapAsync();\n  }, []);\n  if (isLoading) {\n    return _jsxDEV(View, {\n      style: styles.loadingContainer,\n      children: [_jsxDEV(ActivityIndicator, {\n        size: \"large\",\n        color: \"#1e3c72\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, _this), _jsxDEV(Text, {\n        style: styles.loadingText,\n        children: \"Chargement...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, _this);\n  }\n  return _jsxDEV(NavigationContainer, {\n    children: [_jsxDEV(Stack.Navigator, {\n      children: userToken == null ? _jsxDEV(Stack.Screen, {\n        name: \"Login\",\n        component: LoginScreen,\n        options: {\n          headerShown: false\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }, _this) : _jsxDEV(_Fragment, {\n        children: [_jsxDEV(Stack.Screen, {\n          name: \"Home\",\n          component: HomeScreen,\n          options: {\n            headerShown: false\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 13\n        }, _this), _jsxDEV(Stack.Screen, {\n          name: \"VisitList\",\n          component: VisitListScreen,\n          options: {\n            title: 'Mes Visites'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 13\n        }, _this), _jsxDEV(Stack.Screen, {\n          name: \"AddVisit\",\n          component: AddVisitScreen,\n          options: {\n            title: 'Nouvelle Visite'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 13\n        }, _this), _jsxDEV(Stack.Screen, {\n          name: \"VisitDetail\",\n          component: VisitDetailScreen,\n          options: {\n            title: 'Détail de la visite'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 13\n        }, _this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, _this), _jsxDEV(DebugTokenInfo, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, _this);\n};\nvar styles = StyleSheet.create({\n  loadingContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  loadingText: {\n    marginTop: 10,\n    fontSize: 16,\n    color: '#666'\n  }\n});\nexport default App;","map":{"version":3,"names":["React","useState","useEffect","NavigationContainer","createStackNavigator","AsyncStorage","ActivityIndicator","View","StyleSheet","Text","LoginScreen","HomeScreen","VisitListScreen","AddVisitScreen","VisitDetailScreen","jsxDEV","_jsxDEV","Fragment","_Fragment","Stack","DebugTokenInfo","_useState","_useState2","_slicedToArray","token","setToken","getItem","then","value","catch","error","message","style","padding","backgroundColor","children","fileName","_jsxFileName","lineNumber","columnNumber","_this","App","_useState3","_useState4","isLoading","setIsLoading","_useState5","_useState6","userToken","setUserToken","bootstrapAsync","_ref","_asyncToGenerator","console","log","e","apply","arguments","styles","loadingContainer","size","color","loadingText","Navigator","Screen","name","component","options","headerShown","title","create","flex","justifyContent","alignItems","marginTop","fontSize"],"sources":["D:/BTS/AP/GSBVTTMobile/src/App.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { NavigationContainer } from '@react-navigation/native';\nimport { createStackNavigator } from '@react-navigation/stack';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { ActivityIndicator, View, StyleSheet, Text } from 'react-native';\n\nimport LoginScreen from './screens/auth/LoginScreen';\nimport HomeScreen from './screens/home/HomeScreen';\nimport VisitListScreen from './screens/visits/VisitListScreen';\nimport AddVisitScreen from './screens/visits/AddVisitScreen';\nimport VisitDetailScreen from './screens/visits/VisitDetailScreen';\n\nconst Stack = createStackNavigator();\n\n// Composant de débogage\nconst DebugTokenInfo = () => {\n  const [token, setToken] = useState('Chargement...');\n  \n  useEffect(() => {\n    AsyncStorage.getItem('userToken').then(value => {\n      setToken(value || 'Aucun token trouvé');\n    }).catch(error => {\n      setToken(`Erreur: ${error.message}`);\n    });\n  }, []);\n  \n  return (\n    <View style={{padding: 20, backgroundColor: '#f0f0f0'}}>\n      <Text>Token: {token}</Text>\n    </View>\n  );\n};\n\nconst App = () => {\n  const [isLoading, setIsLoading] = useState(true);\n  const [userToken, setUserToken] = useState<string | null>(null);\n\n  useEffect(() => {\n    // Vérifier le token au démarrage\n    const bootstrapAsync = async () => {\n      try {\n        console.log(\"Vérification du token...\");\n        const token = await AsyncStorage.getItem('userToken');\n        console.log(\"Token trouvé:\", token);\n        setUserToken(token);\n      } catch (e) {\n        console.log(\"Erreur lors de la récupération du token:\", e);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    bootstrapAsync();\n  }, []);\n\n  if (isLoading) {\n    return (\n      <View style={styles.loadingContainer}>\n        <ActivityIndicator size=\"large\" color=\"#1e3c72\" />\n        <Text style={styles.loadingText}>Chargement...</Text>\n      </View>\n    );\n  }\n\n  return (\n    <NavigationContainer>\n      <Stack.Navigator>\n        {userToken == null ? (\n          // Écrans lorsqu'aucun token n'est présent\n          <Stack.Screen \n            name=\"Login\" \n            component={LoginScreen} \n            options={{ headerShown: false }}\n          />\n        ) : (\n          // Écrans lorsqu'un token est présent\n          <>\n            <Stack.Screen \n              name=\"Home\" \n              component={HomeScreen}\n              options={{ headerShown: false }}\n            />\n            <Stack.Screen \n              name=\"VisitList\" \n              component={VisitListScreen}\n              options={{ title: 'Mes Visites' }}\n            />\n            <Stack.Screen \n              name=\"AddVisit\" \n              component={AddVisitScreen}\n              options={{ title: 'Nouvelle Visite' }}\n            />\n            <Stack.Screen \n              name=\"VisitDetail\" \n              component={VisitDetailScreen}\n              options={{ title: 'Détail de la visite' }}\n            />\n          </>\n        )}\n      </Stack.Navigator>\n      \n      {/* Déboguer le token - commenter en production */}\n      <DebugTokenInfo />\n    </NavigationContainer>\n  );\n};\n\nconst styles = StyleSheet.create({\n  loadingContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  loadingText: {\n    marginTop: 10,\n    fontSize: 16,\n    color: '#666'\n  }\n});\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}